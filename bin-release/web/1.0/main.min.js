var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},BulletinBoard=function(e){function t(t,i,o){var n=e.call(this)||this;return n._parent=t,n.init(i,o),n}return __extends(t,e),t.prototype.init=function(e,t){var i=new egret.Bitmap(RES.getRes("bg_png"));this.addChild(i),i.width=e,i.height=t;var o=new egret.Bitmap(RES.getRes("close_png"));o.width=o.height=40,o.x=this.width-o.height-20,o.y=20,this.addChild(o),o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this);var n=new egret.TextField;n.text="游戏公告",n.x=this.width-n.width>>1,n.y=20,n.textColor=0,this.addChild(n);var r=new egret.TextField;r.multiline=!0;var s=new egret.ScrollView;s.setContent(r),s.width=280,s.height=200,s.x=this.width-s.width>>1,s.y=this.height-s.height>>1,this.addChild(s),r.width=280,r.size=20,r.text="抵制不良游戏 拒绝盗版游戏\n注意自我保护 谨防受骗上当\n适度游戏益脑 沉迷游戏伤身\n合理安排时间 享受健康生活\nLorem ipsum dolor sit amet, consectetur adipisicing elit. Hic expedita facere libero repellat ut numquam accusamus illum alias reiciendis soluta? Neque provident excepturi doloribus modi perspiciatis, cumque non! Laborum eum, tempore sit totam, expedita excepturi. Dolorem voluptatem iste molestiae obcaecati excepturi ipsam sequi eveniet quod saepe, in quo neque consequuntur, vel ducimus commodi, suscipit a unde fuga asperiores libero. Tenetur recusandae, rem obcaecati consequatur! Laboriosam cum vitae eligendi suscipit vel temporibus obcaecati distinctio officia consectetur",console.log(this.height),r.textAlign=egret.HorizontalAlign.CENTER,this.x=this._parent.width-this.width>>1,this.y=this._parent.height-s.height-100>>1},t.prototype.onClose=function(){this.hide()},t.prototype.show=function(){this._parent.contains(this)||this._parent.addChild(this)},t.prototype.hide=function(){this._parent.contains(this)&&this._parent.removeChild(this)},t}(egret.DisplayObjectContainer);__reflect(BulletinBoard.prototype,"BulletinBoard");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){var e=RES.getRes("gfont_fnt"),t=this.stage.stageWidth,i=this.stage.stageHeight,o=this.createBitmapByName("bg_png");o.width=t,o.height=i,this.addChild(o);var n=new egret.BitmapText;n.text="登录",n.font=e,n.y=100,n.x=t-n.width>>1,this.addChild(n);var r=new egret.BitmapText;r.text="用户名：",r.font=e,r.x=70,r.y=260,this.addChild(r);var s=new egret.BitmapText;s.text="密  码：",s.font=e,s.x=70,s.y=330,this.addChild(s);var a=new egret.TextField;a.type=egret.TextFieldType.INPUT,a.text="",a.border=!0,a.background=!0,a.size=28,a.width=200,a.textColor=0,a.verticalAlign=egret.VerticalAlign.MIDDLE,a.x=r.x+r.width+10,a.y=r.y+10,this.userInput=a,this.addChild(this.userInput);var h=new egret.TextField;h.type=egret.TextFieldType.INPUT,h.displayAsPassword=!0,h.text="",h.border=!0,h.background=!0,h.size=28,h.width=200,h.textColor=0,h.verticalAlign=egret.VerticalAlign.MIDDLE,h.x=r.x+r.width+10,h.y=s.y+10,this.passInput=h,this.addChild(this.passInput);var d=new egret.Bitmap(RES.getRes("button_png"));d.width=150,d.height=60,d.x=t-d.width>>1,d.y=500,this.addChild(d);var l=new egret.TextField;l.x=d.x,l.y=d.y,l.width=d.width,l.height=d.height,l.textAlign=egret.HorizontalAlign.CENTER,l.verticalAlign=egret.VerticalAlign.MIDDLE,l.text="确  定",l.size=30,this.addChild(l),l.touchEnabled=!0,l.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLogin,this)},t.prototype.onLogin=function(){console.log("用户名:"+this.userInput.text),console.log("密码:"+this.passInput.text);var e=new BulletinBoard(this,this.stage.stageWidth-100,300);e.show()},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");